<html layout:decorate="~{fragments/layout}">
<div layout:fragment="content">
  <div class="max-w-4xl mx-auto px-6 py-12 bg-white dark:bg-slate-900 text-slate-800 dark:text-white rounded-2xl shadow-lg">
    <h1 class="text-3xl font-bold mb-8 text-center">🏟️ 매칭 게시글 등록</h1>
    <form th:action="@{/match/register}" th:object="${matchRegisterForm}" method="post" class="space-y-8">
      <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
      <div th:replace="~{fragments/form_errors :: formErrorsFragment}"></div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block font-medium mb-1">게시글 제목 <span class="text-red-500">*</span></label>
          <input type="text" th:field="*{title}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
          <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></p>
        </div>
        <div>
          <label class="block font-medium mb-1">스포츠 종목 <span class="text-red-500">*</span></label>
          <select th:field="*{sportsKind}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            <option value="">선택</option>
            <option th:each="kind : ${sportsKindList}" th:value="${kind}" th:text="${kind}"></option>
          </select>
          <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('sportsKind')}" th:errors="*{sportsKind}"></p>
        </div>
        <div>
          <label class="block font-medium mb-1">경기장 이름 <span class="text-red-500">*</span></label>
          <input type="text" th:field="*{stadium}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
          <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('stadium')}" th:errors="*{stadium}"></p>
        </div>
        <div>
          <label class="block font-medium mb-1">경기장 위치 <span class="text-red-500">*</span></label>
          <input type="text" th:field="*{location}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
          <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('location')}" th:errors="*{location}"></p>
        </div>
        <!-- 경기 시간 -->
        <div class="flex flex-col md:flex-row gap-6">
          <div class="w-full md:w-1/2">
            <label class="block font-medium mb-1">경기 시작 시간 <span class="text-red-500">*</span></label>
            <input type="datetime-local" th:field="*{startDateTime}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
            <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('startDateTime')}" th:errors="*{startDateTime}"></p>
          </div>
          <div class="w-full md:w-1/2">
            <label class="block font-medium mb-1">경기 종료 시간 <span class="text-red-500">*</span></label>
            <input type="datetime-local" th:field="*{endDateTime}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
            <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('endDateTime')}" th:errors="*{endDateTime}"></p>
          </div>
        </div>

        <!-- 상세 정보 -->
        <div>
          <label class="block font-medium mb-1">활동명 (팀 이름) <span class="text-red-500">*</span></label>
          <input type="text" th:field="*{name}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
          <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></p>
        </div>
        <div>
          <label class="block font-medium mb-1">경기 수준 <span class="text-red-500">*</span></label>
          <select th:field="*{level}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800">
            <option value="">선택</option>
            <option value="초급">초급</option>
            <option value="중급">중급</option>
            <option value="상급">상급</option>
          </select>
          <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('level')}" th:errors="*{level}"></p>
        </div>
        <div>
          <label class="block font-medium mb-1">연락처 (선택)</label>
          <input type="text" th:field="*{phoneNumber}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
        </div>

        <!-- 비용 정보 -->
        <div class="flex flex-col md:flex-row gap-6">
          <div class="w-full md:w-1/2">
            <label class="block font-medium mb-1">경기장 총 비용 (₩) <span class="text-red-500">*</span></label>
            <input type="text" th:field="*{totalPrice}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
            <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('totalPrice')}" th:errors="*{totalPrice}"></p>
          </div>
          <div class="w-full md:w-1/2">
            <label class="block font-medium mb-1">상대팀 부담 비용 (₩) <span class="text-red-500">*</span></label>
            <input type="text" th:field="*{cost}" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800" />
            <p class="text-red-500 text-sm" th:if="${#fields.hasErrors('cost')}" th:errors="*{cost}"></p>
          </div>
        </div>
        <div>
          <label class="block font-medium mb-1">기타 내용(경기 방식 및 규칙, 참고 사항, 전달 사항 등)</label>
          <textarea th:field="*{content}" rows="3" class="w-full px-4 py-2 rounded-md border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"></textarea>
        </div>
      </div>

      <!-- 제출 버튼 -->
      <div class="text-center">
        <button class="px-6 py-3 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition font-semibold">
          <a href="/match/list">취소</a>
        </button>
        <button type="submit" class="px-6 py-3 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition font-semibold">등록</button>
      </div>
    </form>
  </div>
</div>
</html>